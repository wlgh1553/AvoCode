# 아보코드 GDB 디버깅용 서버

## 2024.09.22 버전

### 변경사항

1. **api 변경 & redis 도입**

    [기존] FE에서 next요청 시 BE에서 한 줄 정보(지역변수, 매개변수 등) 파악해서 전달

    [현재] 프로그램을 끝까지 실행하며 한 줄에 대한 정보를 모두 redis에 기록, FE에서 get 요청 시 전체 전달 (구체적인 정보는 노션 api 명세서에 작성해두었습니다.)

    [변경 이유] 사용자가 동시에 디버깅 요청을 많이 할수록 gdb를 위한 child process를 계속 생성해야하게 되어 프로세스가 과도하게 많아질 수 있다고 판단함. 한번에 디버깅 다 해놓고 in-memory DB에 저장해둔 뒤 프로세스를 kill하는 방식으로 해결하고자 함.

2. **파일 및 디렉토리 구조 변경**

    [기존] `gdb.js` 하나에 모든 코드가 다 들어가 있었음.

    [현재] layered 패턴을 따르도록 디렉토리 구조 변경

3. **프로젝트 실행법 변경**

    [기존] `node app.js`

    [현재] `npm start` 혹은 `npm run start` (참고로 `npm run dev`는 개발용)

4. **버그 수정**

    [기존] 예외처리 구문이 부족해서 서버가 자꾸 죽었음.

    [현재] 예외처리 구문 최대한 추가한 상태. (혹시라도 죽는다면 말씀해주세요ㅠ)

### 유의사항

1. **배포**

    - gdb 깔려있는지 확인하기
    - redis 깔려있는지 확인하기
    - 서버 포트는 5000번

2. **전역변수**

    - 아직 C언어 전역변수를 캡처하는 기능은 못 살렸습니다..🥲

3. **FE**

    - api 변경에 따른 FE 요청 로직 변경도 해둘 예정 (참고바랍니다~)

4. **없는 기능**

    - 지난번에 못 만든 기능 중 추가로 구현한 기능은 없습니다.
    - 포인터, 구조체 등의 문법은 지원하지 않습니다..🥲
